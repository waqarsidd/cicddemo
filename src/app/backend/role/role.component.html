<p-toast position="bottom-center"></p-toast>

<p-card styleClass="p-card-shadow">
    <p-header>
        <h2>
            <button pButton pRipple type="button" icon="pi pi-arrow-left" (click)="navigateBack()"
                class="p-button-rounded p-button-text p-button-secondary back-btn"></button>
            {{role ? 'EDIT ROLE' : 'CREATE ROLE'}}
        </h2>
    </p-header>

    <form [formGroup]="formGroup" #roleForm="ngForm" (ngSubmit)="onSubmit()">

        <div class="p-float-label fields">
            <input id="role" type="text" pInputText formControlName="role">
            <label for="role">Role</label>
            <small class="p-invalid" *ngIf="submitted && formGroup.get('role').hasError('required')">Name is
                required.</small>
        </div>

        <div class="p-float-label fields">
            <textarea id="description" pInputTextarea formControlName="description" rows="5" cols="50"></textarea>
            <label for="description">Description</label>
            <small class="p-invalid" *ngIf="submitted && formGroup.get('role').hasError('required')">Name is
                required.</small>
        </div>

        <div formGroupName="users">
            <div class="permission-fields">Permissions </div>
            <div>Users:</div>
            <div class="row fields">
                <div class="col">
                    <p-checkbox label="Read" binary="true" class="mr-2" [formControl]="formGroup.controls['users'].get('read')">
                    </p-checkbox>
                </div>
                <div class="col">
                    <p-checkbox label="Write" binary="true" class="mr-2" [formControl]="formGroup.controls['users'].get('write')">
                    </p-checkbox>
                </div>
                <div class="col">
                    <p-checkbox label="Create" binary="true" class="mr-2" [formControl]="formGroup.controls['users'].get('create')">
                    </p-checkbox>
                </div>
            </div>

            <div>Clients:</div>
            <div class="row fields">
                <div class="col">
                    <p-checkbox label="Read" binary="true" class="mr-2" [formControl]="formGroup.controls['clients'].get('read')">
                    </p-checkbox>
                </div>
                <div class="col">
                    <p-checkbox label="Write" binary="true" class="mr-2" [formControl]="formGroup.controls['clients'].get('write')">
                    </p-checkbox>
                </div>
                <div class="col">
                    <p-checkbox label="Create" binary="true" class="mr-2"
                        [formControl]="formGroup.controls['clients'].get('create')">
                    </p-checkbox>
                </div>
            </div>

            <div>Contractors:</div>
            <div class="row fields">
                <div class="col">
                    <p-checkbox label="Read" binary="true" class="mr-2"
                        [formControl]="formGroup.controls['contractors'].get('read')">
                    </p-checkbox>
                </div>
                <div class="col">
                    <p-checkbox label="Write" binary="true" class="mr-2"
                        [formControl]="formGroup.controls['contractors'].get('write')">
                    </p-checkbox>
                </div>
                <div class="col">
                    <p-checkbox label="Create" binary="true" class="mr-2"
                        [formControl]="formGroup.controls['contractors'].get('create')">
                    </p-checkbox>
                </div>
            </div>
        </div>

    </form>
    <ng-template pTemplate="footer">
        <div class="d-flex justify-content-end">
            <button pButton pRipple label="Cancel" icon="pi pi-times" (click)="navigateBack()"
                class="p-button-text p-2 bd-highlight"></button>
            <button pButton pRipple label="Save" type="submit" [disabled]="formGroup.invalid"
                (click)="roleForm.ngSubmit.emit()" icon="pi pi-check" class="p-button-text p-2 bd-highlight"></button>
        </div>

    </ng-template>
</p-card>
<p-toast></p-toast>
